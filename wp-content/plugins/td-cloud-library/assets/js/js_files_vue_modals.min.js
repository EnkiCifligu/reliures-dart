/*
 MIT
*/
var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,d,e){b!=Array.prototype&&b!=Object.prototype&&(b[d]=e.value)};$jscomp.getGlobal=function(b){return"undefined"!=typeof window&&window===b?b:"undefined"!=typeof global&&null!=global?global:b};$jscomp.global=$jscomp.getGlobal(this);$jscomp.SYMBOL_PREFIX="jscomp_symbol_";
$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)};$jscomp.Symbol=function(){var b=0;return function(d){return $jscomp.SYMBOL_PREFIX+(d||"")+b++}}();
$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var b=$jscomp.global.Symbol.iterator;b||(b=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator"));"function"!=typeof Array.prototype[b]&&$jscomp.defineProperty(Array.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}});$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(b){var d=0;return $jscomp.iteratorPrototype(function(){return d<b.length?{done:!1,value:b[d++]}:{done:!0}})};
$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();b={next:b};b[$jscomp.global.Symbol.iterator]=function(){return this};return b};var tdbApi={};
(function(){tdbApi={run:function(b){void 0===b.post&&(b.post={});void 0===b.done&&tdLog.kill("Missing done");void 0===b.wpNonce&&tdLog.kill("Missing wpNonce");void 0===b.cloudEndPoint&&tdLog.kill("Missing endpoint");void 0===b.error&&(b.error=function(b){console.log("%cAPI ERROR","background: #ffaa00; color: #ffffff; padding:3px 6px",b)});return jQuery.ajax({timeout:5E4,type:"POST",url:tdbApi._getRestEndPoint(b.cloudEndPoint,"uuid="+tdbApi._getUniqueID()),beforeSend:function(d){d.setRequestHeader("X-WP-Nonce",
b.wpNonce)},cache:!1,data:b.post,dataType:"json",statusCode:{404:function(){console.log("ERROR: 404 not found")},500:function(){console.log("ERROR: 500 server error")}},success:function(d,e,h){console.group("API: "+b.cloudEndPoint);console.log("Post: ",b.post);console.log("Reply: ",d);console.groupEnd();null===d?b.error([{type:"AJAX ERROR",message:"Empty response received from server.",debug_data:{endpoint:b.cloudEndPoint,request:h}}]):void 0!==d.error?b.error(d.error):b.done(d)},error:function(d,
e,h){b.error([{type:"AJAX ERROR",message:"Invalid reply from server endpoint.",debug_data:{endpoint:b.cloudEndPoint,request:d}}]);void 0!==d.responseText?console.log("%cAPI ERROR "+b.cloudEndPoint,"background: #ffaa00; color: #ffffff; padding:3px 6px","Error - check for php warnings:",d.responseText):console.log("%cAPI ERROR "+b.cloudEndPoint,"background: #ffaa00; color: #ffffff; padding:3px 6px","Error - check for php warnings:",d,e,h)}})},cloudRun:function(b){void 0===b.post&&(b.post={});void 0===
b.error&&(b.error=function(b){console.log("%cAPI ERROR","background: #ffaa00; color: #ffffff; padding:3px 6px; margin-bottom:4px; display:inline-block",b)});void 0===b.cloudError&&(b.cloudError=function(b){console.log("%cCLOUD API ERROR","background: #d22020; color: #ffffff; padding:3px 6px; margin-bottom:4px; display:inline-block",b)});return tdbApi.run({wpNonce:window.tdb_globals.wpRestNonce,cloudEndPoint:"td-cloud-library/td_cloud_proxy",post:{cloudPost:b.cloudPost,cloudEndPoint:b.cloudEndPoint},
done:function(d){void 0!==d.cloudError?(b.cloudError(d.cloudError),console.groupEnd()):b.done(d)},error:function(d){b.error(d)}})},_getRestEndPoint:function(b,d){return _.isEmpty(window.tdb_globals.permalinkStructure)?window.tdb_globals.wpRestUrl+b+"&"+d:window.tdb_globals.wpRestUrl+b+"?"+d},_getUniqueID:function(){function b(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return b()+b()+"-"+b()+"-"+b()+"-"+b()+"-"+b()+b()+b()}}})();
(function(){try{new Function("(a = 0) => a");var b=!0}catch(d){b=!1}b||(jQuery(".tdb-es6-close").on("click",function(b){b.preventDefault();b=jQuery("body");b.hasClass("tdb_es6_display_err")&&b.removeClass("tdb_es6_display_err")}),$("#tdc-sidebar .tdb-load-template").on("click",function(b){b.preventDefault();$("body").addClass("tdb_es6_display_err")}))})();
(function(b,d){"object"===typeof exports&&"undefined"!==typeof module?module.exports=d():"function"===typeof define&&define.amd?define(d):b.VueRouter=d()})(this,function(){function b(a,c){if(!a)throw Error("[vue-router] "+c);}function d(a,c){a||"undefined"!==typeof console&&console.warn("[vue-router] "+c)}function e(a){return-1<Object.prototype.toString.call(a).indexOf("Error")}function h(a,c){switch(typeof c){case "undefined":break;case "object":return c;case "function":return c(a);case "boolean":return c?
a.params:void 0;default:d(!1,'props in "'+a.path+'" is a '+typeof c+", expecting an object, function or boolean.")}}function q(a,c){for(var f in c)a[f]=c[f];return a}function r(a){var c={};a=a.trim().replace(/^(\?|#|&)/,"");if(!a)return c;a.split("&").forEach(function(a){var f=a.replace(/\+/g," ").split("=");a=aa(f.shift());f=0<f.length?aa(f.join("=")):null;void 0===c[a]?c[a]=f:Array.isArray(c[a])?c[a].push(f):c[a]=[c[a],f]});return c}function S(a){var c=a?Object.keys(a).map(function(c){var f=a[c];
if(void 0===f)return"";if(null===f)return A(c);if(Array.isArray(f)){var b=[];f.forEach(function(a){void 0!==a&&(null===a?b.push(A(c)):b.push(A(c)+"="+A(a)))});return b.join("&")}return A(c)+"="+A(f)}).filter(function(a){return 0<a.length}).join("&"):null;return c?"?"+c:""}function H(a,c,f,b){b=b&&b.options.stringifyQuery;var g=c.query||{};try{g=T(g)}catch(Za){}var d=c.name||a&&a.name,p=a&&a.meta||{},m=c.path||"/",e=c.hash||"",k=c.params||{};c=ba(c,b);if(a){for(var u=[];a;)u.unshift(a),a=a.parent;
a=u}else a=[];d={name:d,meta:p,path:m,hash:e,query:g,params:k,fullPath:c,matched:a};f&&(d.redirectedFrom=ba(f,b));return Object.freeze(d)}function T(a){if(Array.isArray(a))return a.map(T);if(a&&"object"===typeof a){var c={},f;for(f in a)c[f]=T(a[f]);return c}return a}function ba(a,c){var f=a.path,b=a.query;void 0===b&&(b={});var t=a.hash;void 0===t&&(t="");return(f||"/")+(c||S)(b)+t}function ca(a,c){return c===I?a===c:c?a.path&&c.path?a.path.replace(J,"")===c.path.replace(J,"")&&a.hash===c.hash&&
K(a.query,c.query):a.name&&c.name?a.name===c.name&&a.hash===c.hash&&K(a.query,c.query)&&K(a.params,c.params):!1:!1}function K(a,c){void 0===a&&(a={});void 0===c&&(c={});if(!a||!c)return a===c;var f=Object.keys(a),b=Object.keys(c);return f.length!==b.length?!1:f.every(function(f){var b=a[f];f=c[f];return"object"===typeof b&&"object"===typeof f?K(b,f):String(b)===String(f)})}function Da(a,c){var f;if(f=0===a.path.replace(J,"/").indexOf(c.path.replace(J,"/"))&&(!c.hash||a.hash===c.hash))a:{for(var b in c.query)if(!(b in
a.query)){f=!1;break a}f=!0}return f}function da(a){if(!(a.metaKey||a.altKey||a.ctrlKey||a.shiftKey||a.defaultPrevented||void 0!==a.button&&0!==a.button)){if(a.currentTarget&&a.currentTarget.getAttribute){var c=a.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(c))return}a.preventDefault&&a.preventDefault();return!0}}function ea(a){if(a)for(var c,f=0;f<a.length;f++)if(c=a[f],"a"===c.tag||c.children&&(c=ea(c.children)))return c}function L(a){if(!L.installed||E!==a){L.installed=!0;E=a;var c=
function(a,c){var f=a.$options._parentVnode;void 0!==f&&void 0!==(f=f.data)&&void 0!==(f=f.registerRouteInstance)&&f(a,c)};a.mixin({beforeCreate:function(){void 0!==this.$options.router?(this._routerRoot=this,this._router=this.$options.router,this._router.init(this),a.util.defineReactive(this,"_route",this._router.history.current)):this._routerRoot=this.$parent&&this.$parent._routerRoot||this;c(this,this)},destroyed:function(){c(this)}});Object.defineProperty(a.prototype,"$router",{get:function(){return this._routerRoot._router}});
Object.defineProperty(a.prototype,"$route",{get:function(){return this._routerRoot._route}});a.component("router-view",Ea);a.component("router-link",Fa);var f=a.config.optionMergeStrategies;f.beforeRouteEnter=f.beforeRouteLeave=f.beforeRouteUpdate=f.created}}function fa(a,c,f){var b=a.charAt(0);if("/"===b)return a;if("?"===b||"#"===b)return c+a;c=c.split("/");f&&c[c.length-1]||c.pop();a=a.replace(/^\//,"").split("/");for(f=0;f<a.length;f++)b=a[f],".."===b?c.pop():"."!==b&&c.push(b);""!==c[0]&&c.unshift("");
return c.join("/")}function w(a){return a.replace(/\/\//g,"/")}function U(a,c){for(var f=[],b=0,d=0,l="",p=c&&c.delimiter||"/",m;null!=(m=Ga.exec(a));){var e=m[0],k=m[1],u=m.index;l+=a.slice(d,u);d=u+e.length;if(k)l+=k[1];else{var h=a[d];e=m[2];k=m[3];var v=m[4],q=m[5],n=m[6];u=m[7];l&&(f.push(l),l="");h=null!=e&&null!=h&&h!==e;var r="+"===n||"*"===n;n="?"===n||"*"===n;m=m[2]||p;v=v||q;f.push({name:k||b++,prefix:e||"",delimiter:m,optional:n,repeat:r,partial:h,asterisk:!!u,pattern:v?v.replace(/([=!:$\/()])/g,
"\\$1"):u?".*":"[^"+M(m)+"]+?"})}}d<a.length&&(l+=a.substr(d));l&&f.push(l);return f}function Ia(a){return encodeURI(a).replace(/[\/?#]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function Ja(a){return encodeURI(a).replace(/[?#]/g,function(a){return"%"+a.charCodeAt(0).toString(16).toUpperCase()})}function ha(a){for(var c=Array(a.length),b=0;b<a.length;b++)"object"===typeof a[b]&&(c[b]=new RegExp("^(?:"+a[b].pattern+")$"));return function(b,f){for(var g="",d=b||{},t=(f||{}).pretty?
Ia:encodeURIComponent,e=0;e<a.length;e++){var k=a[e];if("string"===typeof k)g+=k;else{var u=d[k.name];if(null==u)if(k.optional){k.partial&&(g+=k.prefix);continue}else throw new TypeError('Expected "'+k.name+'" to be defined');if(N(u)){if(!k.repeat)throw new TypeError('Expected "'+k.name+'" to not repeat, but received `'+JSON.stringify(u)+"`");if(0===u.length)if(k.optional)continue;else throw new TypeError('Expected "'+k.name+'" to not be empty');for(var h=0;h<u.length;h++){var v=t(u[h]);if(!c[e].test(v))throw new TypeError('Expected all "'+
k.name+'" to match "'+k.pattern+'", but received `'+JSON.stringify(v)+"`");g+=(0===h?k.prefix:k.delimiter)+v}}else{v=k.asterisk?Ja(u):t(u);if(!c[e].test(v))throw new TypeError('Expected "'+k.name+'" to match "'+k.pattern+'", but received "'+v+'"');g+=k.prefix+v}}}return g}}function M(a){return a.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function V(a,c){a.keys=c;return a}function ia(a,c,b){N(c)||(b=c||b,c=[]);b=b||{};for(var f=b.strict,d=!1!==b.end,l="",p=0;p<a.length;p++){var m=a[p];if("string"===
typeof m)l+=M(m);else{var e=M(m.prefix),k="(?:"+m.pattern+")";c.push(m);m.repeat&&(k+="(?:"+e+k+")*");k=m.optional?m.partial?e+"("+k+")?":"(?:"+e+"("+k+"))?":e+"("+k+")";l+=k}}a=M(b.delimiter||"/");p=l.slice(-a.length)===a;f||(l=(p?l.slice(0,-a.length):l)+"(?:"+a+"(?=$))?");return V(new RegExp("^"+(d?l+"$":l+(f&&p?"":"(?="+a+"|$)")),b.sensitive?"":"i"),c)}function ja(a,c,b){N(c)||(b=c||b,c=[]);b=b||{};if(a instanceof RegExp){if(b=a.source.match(/\((?!\?)/g))for(var f=0;f<b.length;f++)c.push({name:f,
prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return V(a,c)}if(N(a)){f=[];for(var d=0;d<a.length;d++)f.push(ja(a[d],c,b).source);a=new RegExp("(?:"+f.join("|")+")",b.sensitive?"":"i");return V(a,c)}return ia(U(a,b),c,b)}function O(a,b,f){try{return(ka[a]||(ka[a]=B.compile(a)))(b||{},{pretty:!0})}catch(g){return d(!1,"missing param for "+f+": "+g.message),""}}function la(a,b,f,g){var c=b||[],d=f||Object.create(null),p=g||Object.create(null);a.forEach(function(a){W(c,
d,p,a)});a=0;for(b=c.length;a<b;a++)"*"===c[a]&&(c.push(c.splice(a,1)[0]),b--,a--);return{pathList:c,pathMap:d,nameMap:p}}function W(a,c,f,g,t,l){var p=g.path,e=g.name;b(null!=p,'"path" is required in a route configuration.');b("string"!==typeof g.component,'route config "component" for path: '+String(p||e)+" cannot be a string id. Use an actual component instead.");var h=g.pathToRegexpOptions||{};p=Ka(p,t,h.strict);"boolean"===typeof g.caseSensitive&&(h.sensitive=g.caseSensitive);var k={path:p,regex:La(p,
h),components:g.components||{"default":g.component},instances:{},name:e,parent:t,matchAs:l,redirect:g.redirect,beforeEnter:g.beforeEnter,meta:g.meta||{},props:null==g.props?{}:g.components?g.props:{"default":g.props}};g.children&&(g.name&&!g.redirect&&g.children.some(function(a){return/^\/?$/.test(a.path)})&&d(!1,"Named Route '"+g.name+"' has a default child route. When navigating to this named route (:to=\"{name: '"+g.name+"'\"), the default child route will not be rendered. Remove the name from this route and use the name of the default child route for named links instead."),
g.children.forEach(function(b){var g=l?w(l+"/"+b.path):void 0;W(a,c,f,b,k,g)}));void 0!==g.alias&&(Array.isArray(g.alias)?g.alias:[g.alias]).forEach(function(b){W(a,c,f,{path:b,children:g.children},t,k.path||"/")});c[k.path]||(a.push(k.path),c[k.path]=k);e&&(f[e]?l||d(!1,'Duplicate named routes definition: { name: "'+e+'", path: "'+k.path+'" }'):f[e]=k)}function La(a,b){var c=B(a,[],b),g=Object.create(null);c.keys.forEach(function(b){d(!g[b.name],'Duplicate param keys in route with path: "'+a+'"');
g[b.name]=!0});return c}function Ka(a,b,f){f||(a=a.replace(/\/$/,""));return"/"===a[0]||null==b?a:w(b.path+"/"+a)}function ma(a,b,f,g){var c;a="string"===typeof a?{path:a}:a;if(a.name||a._normalized)return a;if(!a.path&&a.params&&b){a=X({},a);a._normalized=!0;var l=X(X({},b.params),a.params);b.name?(a.name=b.name,a.params=l):b.matched.length?a.path=O(b.matched[b.matched.length-1].path,l,"path "+b.path):d(!1,"relative params navigation requires a current route.");return a}var e=a.path||"";var m=c=
"";var h=e.indexOf("#");0<=h&&(c=e.slice(h),e=e.slice(0,h));h=e.indexOf("?");0<=h&&(m=e.slice(h+1),e=e.slice(0,h));b=b&&b.path||"/";b=e?fa(e,b,f||a.append):b;f=a.query;void 0===f&&(f={});g=g&&g.options.parseQuery||r;try{l=g(m||"")}catch(u){d(!1,u.message),l={}}for(var k in f)l[k]=f[k];(a=a.hash||c)&&"#"!==a.charAt(0)&&(a="#"+a);return{_normalized:!0,path:b,query:l,hash:a}}function X(a,b){for(var c in b)a[c]=b[c];return a}function Ma(a,c){function f(a,b,f){a=ma(a,b,!1,c);var g=a.name;if(g){var l=h[g];
d(l,"Route with name '"+g+"' does not exist");if(!l)return e(null,a);var t=l.regex.keys.filter(function(a){return!a.optional}).map(function(a){return a.name});"object"!==typeof a.params&&(a.params={});if(b&&"object"===typeof b.params)for(var k in b.params)!(k in a.params)&&-1<t.indexOf(k)&&(a.params[k]=b.params[k]);if(l)return a.path=O(l.path,a.params,'named route "'+g+'"'),e(l,a,f)}else if(a.path)for(a.params={},b=0;b<p.length;b++)if(k=m[p[b]],Na(k.regex,a.path,a.params))return e(k,a,f);return e(null,
a)}function g(a,g){var l=a.redirect,t="function"===typeof l?l(H(a,g,null,c)):l;"string"===typeof t&&(t={path:t});if(!t||"object"!==typeof t)return d(!1,"invalid redirect option: "+JSON.stringify(t)),e(null,g);var k=t,p=k.name,m=k.path;l=g.query;var u=g.hash,q=g.params;l=k.hasOwnProperty("query")?k.query:l;u=k.hasOwnProperty("hash")?k.hash:u;q=k.hasOwnProperty("params")?k.params:q;if(p)return b(h[p],'redirect failed: named route "'+p+'" not found.'),f({_normalized:!0,name:p,query:l,hash:u,params:q},
void 0,g);if(m)return t=fa(m,a.parent?a.parent.path:"/",!0),q=O(t,q,'redirect route with path "'+t+'"'),f({_normalized:!0,path:q,query:l,hash:u},void 0,g);d(!1,"invalid redirect option: "+JSON.stringify(t));return e(null,g)}function e(a,b,d){return a&&a.redirect?g(a,d||b):a&&a.matchAs?(a=a.matchAs,a=O(a,b.params,'aliased route with path "'+a+'"'),(a=f({_normalized:!0,path:a}))?(d=a.matched,d=d[d.length-1],b.params=a.params,b=e(d,b)):b=e(null,b),b):H(a,b,d,c)}var l=la(a),p=l.pathList,m=l.pathMap,h=
l.nameMap;return{match:f,addRoutes:function(a){la(a,p,m,h)}}}function Na(a,b,f){b=b.match(a);if(!b)return!1;if(!f)return!0;for(var c=1,d=b.length;c<d;++c){var l=a.keys[c-1],e="string"===typeof b[c]?decodeURIComponent(b[c]):b[c];l&&(f[l.name]=e)}return!0}function na(){window.history.replaceState({key:x},"");window.addEventListener("popstate",function(a){oa();a.state&&a.state.key&&(x=a.state.key)})}function C(a,c,f,g){if(a.app){var d=a.options.scrollBehavior;d&&(b("function"===typeof d,"scrollBehavior must be a function"),
a.app.$nextTick(function(){var a=Oa(),e=d(c,f,g?a:null);e&&("function"===typeof e.then?e.then(function(b){pa(b,a)})["catch"](function(a){b(!1,a.toString())}):pa(e,a))}))}}function oa(){var a=x;a&&(qa[a]={x:window.pageXOffset,y:window.pageYOffset})}function Oa(){var a=x;if(a)return qa[a]}function ra(a){return D(a.x)||D(a.y)}function sa(a){return{x:D(a.x)?a.x:window.pageXOffset,y:D(a.y)?a.y:window.pageYOffset}}function D(a){return"number"===typeof a}function pa(a,b){var c="object"===typeof a;if(c&&
"string"===typeof a.selector)if(c=document.querySelector(a.selector)){var g=a.offset&&"object"===typeof a.offset?a.offset:{};g={x:D(g.x)?g.x:0,y:D(g.y)?g.y:0};var d=document.documentElement.getBoundingClientRect();c=c.getBoundingClientRect();b={x:c.left-d.left-g.x,y:c.top-d.top-g.y}}else ra(a)&&(b=sa(a));else c&&ra(a)&&(b=sa(a));b&&window.scrollTo(b.x,b.y)}function y(a,b){oa();var c=window.history;try{b?c.replaceState({key:x},"",a):(x=ta.now().toFixed(3),c.pushState({key:x},"",a))}catch(g){window.location[b?
"replace":"assign"](a)}}function ua(a,b,f){var c=function(g){g>=a.length?f():a[g]?b(a[g],function(){c(g+1)}):c(g+1)};c(0)}function Pa(a){return function(b,f,g){var c=!1,l=0,h=null;va(a,function(a,b,f,t){if("function"===typeof a&&void 0===a.cid){c=!0;l++;b=wa(function(b){var c=b;$jscomp.initSymbol();if(c.__esModule||Qa&&"Module"===c[Symbol.toStringTag])b=b["default"];a.resolved="function"===typeof b?b:E.extend(b);f.components[t]=b;l--;0>=l&&g()});var p=wa(function(a){var b="Failed to resolve async component "+
t+": "+a;d(!1,b);h||(h=e(a)?a:Error(b),g(h))});try{var m=a(b,p)}catch(Ha){p(Ha)}m&&("function"===typeof m.then?m.then(b,p):(m=m.component)&&"function"===typeof m.then&&m.then(b,p))}});c||g()}}function va(a,b){return Array.prototype.concat.apply([],a.map(function(a){return Object.keys(a.components).map(function(c){return b(a.components[c],a.instances[c],a,c)})}))}function wa(a){var b=!1;return function(){for(var c=[],g=arguments.length;g--;)c[g]=arguments[g];if(!b)return b=!0,a.apply(this,c)}}function Ra(a,
b){var c,g=Math.max(a.length,b.length);for(c=0;c<g&&a[c]===b[c];c++);return{updated:b.slice(0,c),activated:b.slice(c),deactivated:a.slice(c)}}function Y(a,b,f,g){a=va(a,function(a,c,g,d){if(a=Sa(a,b))return Array.isArray(a)?a.map(function(a){return f(a,c,g,d)}):f(a,c,g,d)});return Array.prototype.concat.apply([],g?a.reverse():a)}function Sa(a,b){"function"!==typeof a&&(a=E.extend(a));return a.options[b]}function xa(a,b){if(b)return function(){return a.apply(b,arguments)}}function Ta(a,b,f){return Y(a,
"beforeRouteEnter",function(a,c,d,e){return Ua(a,d,e,b,f)})}function Ua(a,b,f,g,d){return function(c,e,t){return a(c,e,function(a){t(a);"function"===typeof a&&g.push(function(){ya(a,b.instances,f,d)})})}}function ya(a,b,f,g){b[f]?a(b[f]):g()&&setTimeout(function(){ya(a,b,f,g)},16)}function F(a){var b=window.location.pathname;a&&0===b.indexOf(a)&&(b=b.slice(a.length));return(b||"/")+window.location.search+window.location.hash}function za(){var a=P();if("/"===a.charAt(0))return!0;Q("/"+a);return!1}
function P(){var a=window.location.href,b=a.indexOf("#");return-1===b?"":a.slice(b+1)}function R(a){var b=window.location.href,f=b.indexOf("#");return(0<=f?b.slice(0,f):b)+"#"+a}function Q(a){z?y(R(a),!0):window.location.replace(R(a))}function Z(a,b){a.push(b);return function(){var c=a.indexOf(b);-1<c&&a.splice(c,1)}}var Ea={name:"router-view",functional:!0,props:{name:{type:String,"default":"default"}},render:function(a,b){var c=b.props,g=b.children,d=b.parent,e=b.data;e.routerView=!0;var p=d.$createElement,
m=c.name;c=d.$route;for(var n=d._routerViewCache||(d._routerViewCache={}),k=0,u=!1;d&&d._routerRoot!==d;)d.$vnode&&d.$vnode.data.routerView&&k++,d._inactive&&(u=!0),d=d.$parent;e.routerViewDepth=k;if(u)return p(n[m],e,g);var r=c.matched[k];if(!r)return n[m]=null,p();d=n[m]=r.components[m];e.registerRouteInstance=function(a,b){var c=r.instances[m];if(b&&c!==a||!b&&c===a)r.instances[m]=b};(e.hook||(e.hook={})).prepatch=function(a,b){r.instances[m]=b.componentInstance};if(c=e.props=h(c,r.props&&r.props[m])){c=
e.props=q({},c);n=e.attrs=e.attrs||{};for(var v in c)d.props&&v in d.props||(n[v]=c[v],delete c[v])}return p(d,e,g)}},Va=/[!'()*]/g,Wa=function(a){return"%"+a.charCodeAt(0).toString(16)},Xa=/%2C/g,A=function(a){return encodeURIComponent(a).replace(Va,Wa).replace(Xa,",")},aa=decodeURIComponent,J=/\/?$/,I=H(null,{path:"/"}),Fa={name:"router-link",props:{to:{type:[String,Object],required:!0},tag:{type:String,"default":"a"},exact:Boolean,append:Boolean,replace:Boolean,activeClass:String,exactActiveClass:String,
event:{type:[String,Array],"default":"click"}},render:function(a){var b=this,f=this.$router,d=this.$route,e=f.resolve(this.to,d,this.append),l=e.location,h=e.route;e=e.href;var m={},q=f.options.linkActiveClass,k=f.options.linkExactActiveClass;q=null==this.activeClass?null==q?"router-link-active":q:this.activeClass;k=null==this.exactActiveClass?null==k?"router-link-exact-active":k:this.exactActiveClass;h=l.path?H(null,l,null,f):h;m[k]=ca(d,h);m[q]=this.exact?m[k]:Da(d,h);var n=function(a){da(a)&&(b.replace?
f.replace(l):f.push(l))},r={click:da};Array.isArray(this.event)?this.event.forEach(function(a){r[a]=n}):r[this.event]=n;d={"class":m};"a"===this.tag?(d.on=r,d.attrs={href:e}):(h=ea(this.$slots["default"]))?(h.isStatic=!1,m=E.util.extend,(h.data=m({},h.data)).on=r,(h.data.attrs=m({},h.data.attrs)).href=e):d.on=r;return a(this.tag,d,this.$slots["default"])}},E,G="undefined"!==typeof window,N=Array.isArray||function(a){return"[object Array]"==Object.prototype.toString.call(a)},B=ja,Ga=RegExp("(\\\\.)|([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))",
"g");B.parse=U;B.compile=function(a,b){return ha(U(a,b))};B.tokensToFunction=ha;B.tokensToRegExp=ia;var ka=Object.create(null),qa=Object.create(null),z=G&&function(){var a=window.navigator.userAgent;return-1===a.indexOf("Android 2.")&&-1===a.indexOf("Android 4.0")||-1===a.indexOf("Mobile Safari")||-1!==a.indexOf("Chrome")||-1!==a.indexOf("Windows Phone")?window.history&&"pushState"in window.history:!1}(),ta=G&&window.performance&&window.performance.now?window.performance:Date,x=ta.now().toFixed(3);
$jscomp.initSymbol();$jscomp.initSymbol();var Qa="function"===typeof Symbol&&"symbol"===typeof Symbol.toStringTag,n=function(a,b){this.router=a;var c=b;c||(G?(c=(c=document.querySelector("base"))&&c.getAttribute("href")||"/",c=c.replace(/^https?:\/\/[^\/]+/,"")):c="/");"/"!==c.charAt(0)&&(c="/"+c);this.base=c.replace(/\/$/,"");this.current=I;this.pending=null;this.ready=!1;this.readyCbs=[];this.readyErrorCbs=[];this.errorCbs=[]};n.prototype.listen=function(a){this.cb=a};n.prototype.onReady=function(a,
b){this.ready?a():(this.readyCbs.push(a),b&&this.readyErrorCbs.push(b))};n.prototype.onError=function(a){this.errorCbs.push(a)};n.prototype.transitionTo=function(a,b,f){var c=this,d=this.router.match(a,this.current);this.confirmTransition(d,function(){c.updateRoute(d);b&&b(d);c.ensureURL();c.ready||(c.ready=!0,c.readyCbs.forEach(function(a){a(d)}))},function(a){f&&f(a);a&&!c.ready&&(c.ready=!0,c.readyErrorCbs.forEach(function(b){b(a)}))})};n.prototype.confirmTransition=function(a,b,f){var c=this,
h=this.current,l=function(a){e(a)&&(c.errorCbs.length?c.errorCbs.forEach(function(b){b(a)}):(d(!1,"uncaught error during route navigation:"),console.error(a)));f&&f(a)};if(ca(a,h)&&a.matched.length===h.matched.length)return this.ensureURL(),l();var p=Ra(this.current.matched,a.matched),m=p.updated,q=p.activated;p=[].concat(Y(p.deactivated,"beforeRouteLeave",xa,!0),this.router.beforeHooks,Y(m,"beforeRouteUpdate",xa),q.map(function(a){return a.beforeEnter}),Pa(q));this.pending=a;var k=function(b,f){if(c.pending!==
a)return l();try{b(a,h,function(a){!1===a||e(a)?(c.ensureURL(!0),l(a)):"string"===typeof a||"object"===typeof a&&("string"===typeof a.path||"string"===typeof a.name)?(l(),"object"===typeof a&&a.replace?c.replace(a):c.push(a)):f(a)})}catch(v){l(v)}};ua(p,k,function(){var f=[],d=Ta(q,f,function(){return c.current===a}).concat(c.router.resolveHooks);ua(d,k,function(){if(c.pending!==a)return l();c.pending=null;b(a);c.router.app&&c.router.app.$nextTick(function(){f.forEach(function(a){a()})})})})};n.prototype.updateRoute=
function(a){var b=this.current;this.current=a;this.cb&&this.cb(a);this.router.afterHooks.forEach(function(c){c&&c(a,b)})};var Aa=function(a){function b(b,c){var d=this;a.call(this,b,c);var f=b.options.scrollBehavior;f&&na();var g=F(this.base);window.addEventListener("popstate",function(a){var c=d.current;a=F(d.base);d.current===I&&a===g||d.transitionTo(a,function(a){f&&C(b,a,c,!0)})})}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.go=function(a){window.history.go(a)};
b.prototype.push=function(a,b,c){var d=this,f=this.current;this.transitionTo(a,function(a){y(w(d.base+a.fullPath));C(d.router,a,f,!1);b&&b(a)},c)};b.prototype.replace=function(a,b,c){var d=this,f=this.current;this.transitionTo(a,function(a){y(w(d.base+a.fullPath),!0);C(d.router,a,f,!1);b&&b(a)},c)};b.prototype.ensureURL=function(a){if(F(this.base)!==this.current.fullPath){var b=w(this.base+this.current.fullPath);a?y(b):y(b,!0)}};b.prototype.getCurrentLocation=function(){return F(this.base)};return b}(n),
Ba=function(a){function b(b,c,d){a.call(this,b,c);if(b=d)b=this.base,c=F(b),/^\/#/.test(c)?b=void 0:(window.location.replace(w(b+"/#"+c)),b=!0);b||za()}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.setupListeners=function(){var a=this,b=this.router.options.scrollBehavior,c=z&&b;c&&na();window.addEventListener(z?"popstate":"hashchange",function(){var b=a.current;za()&&a.transitionTo(P(),function(d){c&&C(a.router,d,b,!0);z||Q(d.fullPath)})})};b.prototype.push=
function(a,b,c){var d=this,f=this.current;this.transitionTo(a,function(a){var c=a.fullPath;z?y(R(c)):window.location.hash=c;C(d.router,a,f,!1);b&&b(a)},c)};b.prototype.replace=function(a,b,c){var d=this,f=this.current;this.transitionTo(a,function(a){Q(a.fullPath);C(d.router,a,f,!1);b&&b(a)},c)};b.prototype.go=function(a){window.history.go(a)};b.prototype.ensureURL=function(a){var b=this.current.fullPath;P()!==b&&(a?z?y(R(b)):window.location.hash=b:Q(b))};b.prototype.getCurrentLocation=function(){return P()};
return b}(n),Ya=function(a){function b(b,c){a.call(this,b,c);this.stack=[];this.index=-1}a&&(b.__proto__=a);b.prototype=Object.create(a&&a.prototype);b.prototype.constructor=b;b.prototype.push=function(a,b,c){var d=this;this.transitionTo(a,function(a){d.stack=d.stack.slice(0,d.index+1).concat(a);d.index++;b&&b(a)},c)};b.prototype.replace=function(a,b,c){var d=this;this.transitionTo(a,function(a){d.stack=d.stack.slice(0,d.index).concat(a);b&&b(a)},c)};b.prototype.go=function(a){var b=this,c=this.index+
a;if(!(0>c||c>=this.stack.length)){var d=this.stack[c];this.confirmTransition(d,function(){b.index=c;b.updateRoute(d)})}};b.prototype.getCurrentLocation=function(){var a=this.stack[this.stack.length-1];return a?a.fullPath:"/"};b.prototype.ensureURL=function(){};return b}(n);n=function(a){void 0===a&&(a={});this.app=null;this.apps=[];this.options=a;this.beforeHooks=[];this.resolveHooks=[];this.afterHooks=[];this.matcher=Ma(a.routes||[],this);var c=a.mode||"hash";(this.fallback="history"===c&&!z&&!1!==
a.fallback)&&(c="hash");G||(c="abstract");this.mode=c;switch(c){case "history":this.history=new Aa(this,a.base);break;case "hash":this.history=new Ba(this,a.base,this.fallback);break;case "abstract":this.history=new Ya(this,a.base);break;default:b(!1,"invalid mode: "+c)}};var Ca={currentRoute:{configurable:!0}};n.prototype.match=function(a,b,d){return this.matcher.match(a,b,d)};Ca.currentRoute.get=function(){return this.history&&this.history.current};n.prototype.init=function(a){var c=this;b(L.installed,
"not installed. Make sure to call `Vue.use(VueRouter)` before creating root instance.");this.apps.push(a);if(!this.app){this.app=a;var d=this.history;d instanceof Aa?d.transitionTo(d.getCurrentLocation()):d instanceof Ba&&(a=function(){d.setupListeners()},d.transitionTo(d.getCurrentLocation(),a,a));d.listen(function(a){c.apps.forEach(function(b){b._route=a})})}};n.prototype.beforeEach=function(a){return Z(this.beforeHooks,a)};n.prototype.beforeResolve=function(a){return Z(this.resolveHooks,a)};n.prototype.afterEach=
function(a){return Z(this.afterHooks,a)};n.prototype.onReady=function(a,b){this.history.onReady(a,b)};n.prototype.onError=function(a){this.history.onError(a)};n.prototype.push=function(a,b,d){this.history.push(a,b,d)};n.prototype.replace=function(a,b,d){this.history.replace(a,b,d)};n.prototype.go=function(a){this.history.go(a)};n.prototype.back=function(){this.go(-1)};n.prototype.forward=function(){this.go(1)};n.prototype.getMatchedComponents=function(a){return(a=a?a.matched?a:this.resolve(a).route:
this.currentRoute)?[].concat.apply([],a.matched.map(function(a){return Object.keys(a.components).map(function(b){return a.components[b]})})):[]};n.prototype.resolve=function(a,b,d){a=ma(a,b||this.history.current,d,this);b=this.match(a,b);var c=b.redirectedFrom||b.fullPath;d=this.history.base;c="hash"===this.mode?"#"+c:c;d=d?w(d+"/"+c):c;return{location:a,route:b,href:d,normalizedTo:a,resolved:b}};n.prototype.addRoutes=function(a){this.matcher.addRoutes(a);this.history.current!==I&&this.history.transitionTo(this.history.getCurrentLocation())};
Object.defineProperties(n.prototype,Ca);n.install=L;n.version="3.0.1";G&&window.Vue&&window.Vue.use(n);return n});window.tdbVue={};
window.tdbVue.error={template:'\n            <div class="tdb-error-wrap">                                   \n                <div class="tdb-error-alert">\n                    <span class="tdb-error-message">{{errorsToDisplay[0].message}}</span>\n                    <span v-show="tduIsEnabled()" class="tdb-error-open-extra" @click.prevent="showExtra = !showExtra">\n                        <template v-if="showExtra === false">+</template>\n                        <template v-else>-</template>\n                    </span>\n                    <div v-show="showExtra" class="tdb-error-extra">\n                        <div v-for="(error, index) in errorsToDisplay" :key="\'extra_error_\' + index" class="tdb-error-extra-single" @click.prevent="switchDebugDisplay(\'extra_error_\' + index)">\n                            <div>{{error.type}}: {{error.message}}</div>                            \n                            <div class="tdb-error-debug-data" v-show="debugDisplay[\'extra_error_\' + index]"><pre>{{error.debug_data}}</pre></div>                        \n                        </div>                        \n                    </div>\n                </div>\n            </div>',props:{errorsToDisplay:{"default":null}},
data:function(){return{showExtra:!1,debugDisplay:null}},created:function(){this.setDebugDisplay()},methods:{setDebugDisplay:function(){if(null===this.errorsToDisplay)this.debugDisplay=null;else{var b={};this.errorsToDisplay.forEach(function(d,e,h){b["extra_error_"+e]=!1});this.debugDisplay=b}},switchDebugDisplay:function(b){this.debugDisplay[b]=!this.debugDisplay[b]},tduIsEnabled:function(){return void 0!==window.tdbVue.tduIsEnabled?!0:!1}},watch:{errorsToDisplay:function(){this.setDebugDisplay()}}};
window.tdbVue.cache={data:function(){return{cache:{}}},methods:{cloneArray:function(b){return JSON.parse(JSON.stringify(b))},cacheInit:function(b){if(0!==b.length&&void 0===this.cache.All){this.cache.All={latest:{"":[]}};for(var d=0;d<b.length;d++){var e=b[d],h=e.template_type_name;void 0===this.cache[h]&&(this.cache[h]={latest:{"":[]}});this.cache.All.latest[""][d]=e;this.cache[h].latest[""].push(e);for(var q in e.sort)if(e.sort.hasOwnProperty(q)){var r=e.sort[q],S=r.all;r=r.template;void 0===this.cache.All[q]&&
(this.cache.All[q]={"":[]});void 0===this.cache[h][q]&&(this.cache[h][q]={"":[]});this.cache.All[q][""][S]=e;this.cache[h][q][""][r]=e}}return this.cache}},cacheReset:function(){this.cache={}},cacheGetCount:function(b,d){var e={},h;for(h in this.cache)if(this.cache.hasOwnProperty(h)){var q=this.cacheJustGetSorted(h,b,d);e[h]=q.length}return e},cacheRemoveTemplate:function(b){for(var d in this.cache)if(this.cache.hasOwnProperty(d))for(var e in this.cache[d])if(this.cache[d].hasOwnProperty(e))for(var h in this.cache[d][e])if(this.cache[d][e].hasOwnProperty(h)){var q=
0,r;for(r in this.cache[d][e][h])this.cache[d][e][h][r].ID===b&&this.cache[d][e][h].splice(q,1),q++}},cacheJustGetSorted:function(b,d,e){if(void 0===this.cache[b])return[];e=e.trim().toLowerCase();if(void 0!==this.cache[b][d][e])return this.cache[b][d][e];var h=[];b=this.cache[b][d][""];for(d=0;d<b.length;d++)-1!==b[d].search_string.indexOf(e)&&h.push(b[d]);return h},cacheGetSorted:function(b,d,e){var h=this.cacheJustGetSorted(b,d,e);return void 0!==this.cache[b]&&void 0!==this.cache[b][d]?this.cache[b][d][e]=
h:[]}}};
window.tdbVue.index={template:'<div class="tdb-index">\n            <router-view></router-view>\n            <router-view name="modal"></router-view>\n            <div v-if="get_templates_running === true" class="tdb-loading-templates"><span>Loading templates...</span></div>\n        </div>',mixins:[window.tdbVue.cache],props:{fixVueJs:""},data:function(){return{section_title:"Single templates",tdb_template_type:window.tdcPostSettings.tdbTemplateType,wp_type_name:window.tdcPostSettings.tdbTemplateType,wp_types:[],
template_type_name:"All",template_types:[],sort_by_options:[],search:"",sort_by:"latest",templates:[],sorted_templates:[],errors:null,scroll_position:0,key_is_valid:void 0,get_templates_running:!1}},mounted:function(){var b=this;this.$nextTick(function(){jQuery("#tdc-sidebar .tdb-load-template").on("click",function(b){b.preventDefault();window.tdbVue.router.push({name:"loadRoute",params:{wp_type:window.tdcPostSettings.tdbTemplateType}})});if(0<window.location.search.indexOf("auto_install")){var d=
window.location.search.split("auto_install="),e=d[1].split("%2F");if(3===e.length){var h=e[0],q=e[1],r=e[2];window.history.replaceState(window.history.state,"remove auto_install",d[0]);b.wp_types.length?window.tdbVue.router.push({name:"singleRoute",params:{templateId:r,wpType:h,templateType:q,autoInstall:!0}}):b.getTemplates({wp_type:window.tdcPostSettings.tdbTemplateType,callback:function(){window.tdbVue.router.push({name:"singleRoute",params:{templateId:r,wpType:h,templateType:q,autoInstall:!0}})}})}}})},
methods:{getTemplates:function(b){var d=this;if(!0!==d.get_templates_running){if(0<d.templates.length)return d.templates;d.get_templates_running=!0;d.errors=null;var e={};"undefined"!==typeof b&&"undefined"!==typeof b.wp_type&&(e.wp_type=b.wp_type);return tdbApi.cloudRun({cloudEndPoint:"templates/get_all",cloudPost:e,done:function(e){d.templates=e.templates;d.wp_types=e.wp_types;void 0!==e.key_is_valid&&(d.key_is_valid=e.key_is_valid);if(0<e.template_types.length){d.template_types=e.template_types;
var h={template_type_name:"All",count:0},r=!1;d.template_types.forEach(function(b){r||b.wp_type_name!==d.tdb_template_type||(d.template_type_name=b.template_type_name,r=!0);h.count+=parseInt(b.count)});d.template_types.unshift(h)}d.getSortByOptions();d.getSorted();d.get_templates_running=!1;"undefined"!==typeof b&&"undefined"!==typeof b.callback&&b.callback()}.bind(this),error:function(b){d.errors=b;d.get_templates_running=!1}})}},getSortByOptions:function(){this.sort_by_options=[];this.sort_by_options.push("latest");
if(0!==this.templates.length){var b=this.templates[0].sort,d;for(d in b)b.hasOwnProperty(d)&&this.sort_by_options.push(d)}},getSorted:function(){this.cacheInit(this.templates);this.sorted_templates=this.cacheGetSorted(this.template_type_name,this.sort_by,this.search)},resetSortOptions:function(){this.search="";this.sort_by="latest";this.wp_type_name=this.tdb_template_type},resetTemplates:function(){this.templates=[];this.sorted_templates=[];this.cacheReset()},removeTemplate:function(b){this.cacheRemoveTemplate(b)}},
watch:{search:function(){this.getSorted()},sort_by:function(){this.getSorted()},template_type_name:function(){this.getSorted()},sorted_templates:function(){eventHub.$emit("sorted-templates-changed");var b=this.cacheGetCount(this.sort_by,this.search),d={},e;for(e in b)d.tempType=e,this.template_types.forEach(function(d){return function(e){d.tempType===e.template_type_name&&(e.count=b[d.tempType])}}(d)),d={tempType:d.tempType}}},beforeRouteUpdate:function(b,d,e){"indexRoute"===b.name&&(this.scroll_position=
0);e()}};
window.tdbVue.single={template:'<div class="tdb-modal-body" v-if="!autoInstall">\n                    <div class="tdb-single tdb-template">\n                        \x3c!-- header --\x3e\n                        <div class="tdb-header">\n                            <span class="tdb-title">Pre-designed Templates - tagDiv Cloud Library</span>\n                            <button @click.prevent="closeModal" class="td-icon-close-mobile tdb-close"></button>\n                        </div>\n                        \n                        \x3c!-- errors --\x3e\n                        <error \n                            v-if="errors"\n                            :errorsToDisplay="errors"\n                        ></error>\n                        \n                        <template v-if="this.$parent.sorted_templates.length !== 0">\n                            \x3c!-- breadcrumbs --\x3e\n                            <div class="tdb-breadcrumbs">\n                                <span @click.prevent="viewCurrentType" class="tdb-breadcrumbs-parent">{{template.template_type_name}}</span> <span>\\</span> {{template.title}}                      \n                            </div>                                     \n                            \n                            \x3c!-- content --\x3e\n                            <div class="tdb-single-content">\n                                <div class="tdb-single-image" :style="\'background-image: url(\' + template.big_image_url + \')\'"></div>\n                                \x3c!--<img :src="template.big_image_url" class="tdb-single-thumb">--\x3e\n                                <div class="tdb-single-info">\n                                    <div class="tdb-info-wrap">\n                                        <div class="tdb-single-type" @click.prevent="viewCurrentType"><span>{{template.template_type_name}}</span></div>\n                                        <div class="tdb-single-title">{{template.title}}<span class="tdb-single-by"> by <a target="_blank" :href="template.author_url">{{template.author}}</a></span></div>\n                                        <div class="tdb-single-description" v-html="template.description"></div>\n                                        <div class="tdb-single-tags" v-if="template.tags.length"><span class="tdb-single-title-desc">Tags: </span><span v-for="(tag, index) in template.tags"><router-link :to="{name:\'loadRoute\', params: { search: tag }}">{{tag}}</router-link><template v-if="index < (template.tags.length - 1)">, </template></span></div>\n                                        <div class="tdb-single-additional">\n                                            <div class="tdb-additional-title">Additional information</div>\n                                            <div><span class="tdb-single-title-desc">Initial release:</span> {{template.initial_release}}</div>\n                                            <div><span class="tdb-single-title-desc">Version: </span>{{template.template_version}}</div>\n                                        </div>                                                                           \n                                           \n                                        <div class="tdb-single-buttons">\n                                            <router-link class="tdb-btn tdb-btn-back" tag="button" :to="{name:\'loadRoute\'}">Back</router-link>\n                                            <a v-if="template.preview_url && template.are_images_uploaded === \'1\'" class="tdb-btn tdb-btn-preview" :href="template.preview_url" target="_blank">Preview</a>\n                                            <button v-if="$parent.key_is_valid === undefined" @click.prevent="reloadTemplates()" class="tdb-btn">Reload templates</button>                                            \n                                            <button v-else-if="$parent.key_is_valid === false || $parent.key_is_valid == \'\'" @click.prevent="activateTheme()" class="tdb-btn">Activate theme</button>\n                                            <button v-else-if="\'all\' === $parent.tdb_template_type" class="tdb-btn" @click.prevent="confirmCreate(template.wp_type_name, template.template_type_name, template.ID, template.title)">Create Template</button>                                            \n                                            <button \n                                                v-else-if="wpType !== \'\' && template.are_images_uploaded === \'1\' && ( wpType === $parent.tdb_template_type || ( wpType === \'page\' && \'1\' == template.is_section ) )" \n                                                @click.prevent="confirmInstall()" \n                                                :class="{\'tdb-btn\': true, \'tdb-btn-add-section\': \'1\' == template.is_section}"\n                                            >{{getButtonText()}}</button>\n                                            <button v-else class="tdb-btn">INCOMPATIBLE</button>\n                                            \n                                        </div>                            \n                                    </div>    \n                                    \x3c!-- next/prev --\x3e\n                                    <div @click="prevTemplate()" :class="\'tdb-single-arrow td-icon-menu-left tdb-single-prev\' + (templateIndex > 0 ? \' tdb-is-active\' : \'\')"></div>                    \n                                    <div @click="nextTemplate()" :class="\'tdb-single-arrow td-icon-menu-right tdb-single-next\' + ((templateIndex < $parent.sorted_templates.length - 1) ? \' tdb-is-active\' : \'\')"></div>                    \n                                </div>                  \n                            </div> \n                        </template>\n                        \n                   </div>\n                </div>',props:{templateId:{type:String,
required:!0},templateType:{type:String,required:!0},wpType:{type:String,required:!0},autoInstall:{type:Boolean}},data:function(){return{template:{},templateIndex:-1,errors:null,show_install_confirm:!1}},created:function(){this.get_template();window.addEventListener("keydown",this.onKeyDown)},methods:{getEnvatoKeyErrors:function(){void 0===this.$parent.key_is_valid?this.errors=[{type:"Single ERROR",message:"Invalid reply received from Envato API while trying to check your Envato key. Please reaload the templates.",
debug_data:{key_is_valid:"undefined"}}]:!1===this.$parent.key_is_valid?this.errors=[{type:"Single ERROR",message:"Envato key is missing or invalid. Please register your theme using a valid key and try again.",debug_data:{key_is_valid:this.$parent.key_is_valid}}]:""===this.$parent.key_is_valid&&(this.errors=[{type:"Single ERROR",message:"Envato key is missing. Please register your theme using a valid key and try again.",debug_data:{key_is_valid:this.$parent.key_is_valid}}])},get_template:function(){var b=
this;b.resetTemplateData();0===b.$parent.sorted_templates.length?(b.$parent.template_type_name="All",b.$parent.getTemplates({wp_type:b.wpType,callback:function(){b.get_template()}})):(b.templateIndex=b.getTemplateIndex(),-1===b.templateIndex&&b.$parent.template_type_name!==b.templateType&&(b.$parent.template_type_name=b.templateType,b.$parent.getSorted()),b.templateIndex=b.getTemplateIndex(),-1===b.templateIndex?b.errors=[{type:"Single ERROR",message:"Invalid template ID",debug_data:{template_id:b.templateId,
sorted_templates:b.$parent.sorted_templates}}]:(b.getEnvatoKeyErrors(),Object.assign(b.template,b.$parent.sorted_templates[b.templateIndex]),!0===b.autoInstall&&(b.show_install_confirm=!0,window.autoInstallInterval=setInterval(function(){"undefined"!==typeof window.tdcIFrameData.tdcRows&&(clearInterval(window.autoInstallInterval),b.$router.push({name:"installRoute",params:{templateId:b.templateId}}))},100))))},viewCurrentType:function(){this.$parent.resetSortOptions();this.$parent.template_type_name=
this.template.template_type_name;this.$parent.getSorted();this.$router.push({name:"loadRoute"})},getTemplateIndex:function(){var b=this;return b.$parent.sorted_templates.findIndex(function(d){return parseInt(d.ID)===parseInt(b.templateId)})},closeModal:function(){this.$router.push({name:"indexRoute"})},prevTemplate:function(){if(!(1>this.templateIndex)){var b=this.$parent.sorted_templates[this.templateIndex-1];this.$router.push({name:"singleRoute",params:{templateId:b.ID,templateType:b.template_type_name,
wpType:b.wp_type_name}})}},nextTemplate:function(){if(!(this.templateIndex>=this.$parent.sorted_templates.length-1)){var b=this.$parent.sorted_templates[this.templateIndex+1];this.$router.push({name:"singleRoute",params:{templateId:b.ID,templateType:b.template_type_name,wpType:b.wp_type_name}})}},resetTemplateData:function(){this.errors=null;this.template={}},confirmInstall:function(){var b=this;b.show_install_confirm=!0;window.tdConfirm.modal({caption:"Template import",callbackYes:function(){tb_remove();
b.$router.push({name:"installRoute",params:{templateId:b.templateId}})},callbackNo:function(){b.show_install_confirm=!1},htmlInfoContent:"Are you sure you want to import this template?"})},confirmCreate:function(b,d,e,h){tdbApi.run({wpNonce:window.tdb_globals.wpRestNonce,cloudEndPoint:"td-cloud-library/new_template",post:{templateName:h,templateType:b},done:function(h){tb_remove();window.location=h.template_edit_url+"&prev_url="+encodeURIComponent(window.location.href)+"&auto_install="+b+"/"+d+"/"+
e},error:function(b){console.log("td-cloud-library/new_template - ERROR",b)}})},getButtonText:function(){return"1"===this.template.is_section?"Import section":"Import template"},onKeyDown:function(b){switch(b.keyCode){case 37:this.prevTemplate();break;case 39:this.nextTemplate();break;case 8:this.viewCurrentType()}},activateTheme:function(){window.location.href=window.td_admin_url+"admin.php?page=td_cake_panel"},reloadTemplates:function(){this.$parent.resetTemplates();this.$router.push({name:"loadRoute",
params:{wp_type:this.wpType}})}},components:{error:window.tdbVue.error},watch:{templateId:function(){this.get_template()}},beforeDestroy:function(){tb_remove();window.removeEventListener("keydown",this.onKeyDown)},beforeRouteUpdate:function(b,d,e){tb_remove();this.show_install_confirm=!1;e()},beforeRouteLeave:function(b,d,e){"installRoute"!==b.name||this.show_install_confirm?e():this.$router.go(-1)}};
window.tdbVue.install={template:'<div class="tdb-modal-body">\n                    <div class="tdb-install tdb-template">                                                                                                                                  \n                         \x3c!-- header --\x3e\n                        <div class="tdb-header">                        \n                            <button @click.prevent="closeModal" class="td-icon-close-mobile tdb-close"></button>                                                                                                     \n                        </div>                                              \n                        \x3c!-- content --\x3e\n                        <div class="tdb-install-content">\n                            <div class="tdb-install-box">\n                                <div class="tdb-install-thumb-wrap">\n                                    <img class="tdb-install-thumb" :src="$parent.templates[templateIndex].big_image_url">\n                                </div>\n                                \n                                <div class="tdb-install-info">\n                                    <div class="tdb-install-wrap">\n                                        <div class="tdb-install-template">\n                                            {{$parent.templates[templateIndex].title}} - {{$parent.template_type}} \n                                            <span class="tdb-install-author">by <a target="_blank" :href="$parent.templates[templateIndex].author_url">{{$parent.templates[templateIndex].author}}</a></span>\n                                        </div>\n                                        <div class="tdb-install-status">\n                                            <span v-if="percentage === 100">Import completed</span>\n                                            <span v-else>Installing...</span>\n                                        </div>                                                                                                                                                                    \n                                        <div class="tdb-progress-bar">\n                                            <div :style="\'width: \' + percentage + \'%;\'" class="tdb-progress-percentage"></div>\n                                        </div>                                       \n                                        <router-link v-if="percentage === 100" :to="{name: \'indexRoute\'}" tag="button" class="tdb-btn tdb-btn-white">Done</router-link>\n                                        <button v-else class="tdb-btn tdb-btn-white tdb-btn-disabled" disabled>Please wait...</button>\n                                        \n                                        \x3c!-- errors --\x3e\n                                        <error\n                                            v-if="errors" \n                                            :errorsToDisplay="errors"\n                                        ></error>                                                           \n                                    </div>                                         \n                                </div>                                                                                          \n                                \n                                <div class="tdb-clear-fix"></div>\n                            </div>  \n                        </div>                  \n                    </div>                  \n               </div>',props:{templateId:{type:String,
required:!0}},data:function(){return{template:{},percentage:0,isInstalling:!1,templateIndex:-1,install_uid:"",errors:null}},created:function(){this.getTemplateIndex()},mounted:function(){var b=this;b.$nextTick(function(){b.installTemplate()})},methods:{closeModal:function(){this.$router.push({name:"indexRoute"})},getTemplateIndex:function(){var b=this;b.templateIndex=b.$parent.templates.findIndex(function(d){return parseInt(d.ID)===parseInt(b.templateId)});Object.assign(b.template,b.$parent.templates[b.templateIndex])},
incrementInstallsNumber:function(){var b=this;tdbApi.cloudRun({cloudEndPoint:"templates/increment_install_number",cloudPost:{template_id:b.templateId},done:function(d){b.$parent.templates[b.templateIndex].installs_number++}.bind(this),error:function(b){}})},downloadImages:function(b){var d=this;if(0===b.images.length)b.done();else if(!1!==d.isInstalling){void 0===b.step&&(b.step=0);var e=b.images[b.step];window.tdbApi.run({wpNonce:window.tdb_globals.wpRestNonce,cloudEndPoint:"td-cloud-library/download_image",
post:{image:e,template_id:window.tdcPostSettings.postId,install_uid:d.install_uid,current_step:b.step+1,total_steps:b.images.length},done:function(e){b.progressChanged(b.step,b.images.length-1,e);b.step<b.images.length-1?(b.step++,d.percentage=100/b.images.length*b.step,d.downloadImages(b)):b.done()},error:function(d){b.error(d,e)}})}},installTemplate:function(){if(-1===this.templateIndex)this.errors=[{type:"Install ERROR",message:"INVALID TEMPLATE ID, NO TEMPLATE RECEIVED FROM cloudEndPoint: templates/get_all",
debug_data:{template_id:this.templateId}}];else if("undefined"===typeof this.$parent.templates[this.templateIndex])this.errors=[{type:"Install ERROR",message:"NO TEMPLATE RECEIVED FROM cloudEndPoint: templates/get_all",debug_data:{template_id:this.templateId}}];else{this.isInstalling=tdcMain._contentModified=!0;this.errors=null;var b=this,d=b.$parent.templates[b.templateIndex],e=d.template_content,h=d.images,q=[];b.install_uid=tdbApi._getUniqueID();"undefined"!==typeof h&&h.constructor===Array&&0<
h.length&&h.forEach(function(b){q.push({uid:b.uid,ext:b.ext})});b.downloadImages({images:q,progressChanged:function(b,d,e){var h=q.find(function(b){return e.uid===b.uid});h.attachment_id=e.attachment_id;h.url=e.url;console.log(b+" "+d)},done:function(){if(!1!==b.isInstalling){if("undefined"===typeof q.find(function(b){return"undefined"===typeof b.attachment_id})){"1"!==d.is_section&&window.tdcIFrameData.tdcRows.reset();var h=b._addContent(e,q);"undefined"!==typeof h&&(window.tdcOperationUI.setDraggedElement(h),
window.tdcIFrameData.changeData({wasSidebarElementDragged:!0,wasElementDragged:!1,wasInnerColumnDragged:!1,wasInnerRowDragged:!1,wasTempInnerRowDragged:!1,wasColumnDragged:!1,wasRowDragged:!1,wasTempRowDragged:!0,wasElementWithRowDragged:!0,draggedBlockUid:"",sourceColParam:null}))}b.incrementInstallsNumber();b.percentage=100;b.isInstalling=!1}},error:function(d,e){d.unshift({type:"AJAX ERROR",message:"One of the images failed to upload.",debug_data:{imageObj:e}});b.errors=d}})}},_addContent:function(b,
d){if(!0===window.tdcIFrameData._initNewContentStructureData(0,b)){var e={error:void 0,getShortcode:"",newImages:d};_.each(window.tdcIFrameData.tdcRows.models,function(b,d,h){window.tdcIFrameData._checkModelData(window.tdcIFrameData.tdcRows.get(b.cid),e)});if("undefined"!==typeof e.error)vm.errors=[{type:"Install ERROR",message:"Error updating images!",debug_data:{data:e}}];else{window.tdcIFrameData.tdcRows.reset();var h=jQuery('<div class="tdc-row-cloud-temp" data-template-content="'+window.btoa(e.getShortcode)+
'"></div>');window.tdcOperationUI.iframeContents.find("#tdc-rows").html(h);return h}}},leaveConfirm:function(b){!0===this.isInstalling?!0===confirm("Import in progress, are you sure you want to leave?")?(this.isInstalling=!1,b()):b(!1):b()}},components:{error:window.tdbVue.error},beforeRouteEnter:function(b,d,e){if("singleRoute"!==d.name){if("loadRoute"===d.name){e(!1);return}e({name:"loadRoute"})}e()},beforeRouteUpdate:function(b,d,e){this.leaveConfirm(e)},beforeRouteLeave:function(b,d,e){this.leaveConfirm(e)}};
